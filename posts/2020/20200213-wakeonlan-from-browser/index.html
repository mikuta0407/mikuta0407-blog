<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="(この記事はQiitaからのコピーです。 本記事の投稿日はQiitaでの投稿日としています。) WiFiルーターを買い替えたら、発売日的に6年後"><title>ブラウザ経由でシェルスクリプト叩いてWake on LANする</title>
<link rel=canonical href=https://blog.mikuta0407.net/posts/2020/20200213-wakeonlan-from-browser/><link rel=stylesheet href=/scss/style.min.01b3ec666d6f6bb6342716ec85d85dcf1a50190d2a63506d495d154e2fd852b8.css><meta property='og:title' content="ブラウザ経由でシェルスクリプト叩いてWake on LANする"><meta property='og:description' content="(この記事はQiitaからのコピーです。 本記事の投稿日はQiitaでの投稿日としています。) WiFiルーターを買い替えたら、発売日的に6年後"><meta property='og:url' content='https://blog.mikuta0407.net/posts/2020/20200213-wakeonlan-from-browser/'><meta property='og:site_name' content='平和に生きたい'><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:published_time' content='2020-02-13T16:48:10+09:00'><meta property='article:modified_time' content='2020-02-13T16:48:10+09:00'><meta name=twitter:title content="ブラウザ経由でシェルスクリプト叩いてWake on LANする"><meta name=twitter:description content="(この記事はQiitaからのコピーです。 本記事の投稿日はQiitaでの投稿日としています。) WiFiルーターを買い替えたら、発売日的に6年後"><script data-goatcounter=https://stats.mikuta0407.net/count async src=https://mikuta0407.net/files/goatcounter.js></script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/mikuta0407-icon_hua8f22b6667bbcefae8d1b7d0dca296d9_162513_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>平和に生きたい</a></h1><h2 class=site-description>mikuta0407の書いた虚無。ﾖﾜﾖﾜ技術系からアイマスとかガジェットとかごった煮。</h2></div></header><ol class=menu-social><li><a href=https://github.com/mikuta0407 target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/mikuta0407 target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#必要なもの>必要なもの</a></li><li><a href=#どんな感じにするかを考える>どんな感じにするかを考える</a></li><li><a href=#方針>方針</a></li><li><a href=#やることを3行でいうと>やることを3行でいうと・・・</a></li><li><a href=#raspberry-piにapacheとetherwakewol飛ばせるソフトを入れる>Raspberry Piにapacheとetherwake(WoL飛ばせるソフト)を入れる</a></li><li><a href=#apacheの設定>Apacheの設定</a></li><li><a href=#htmlを書く>HTMLを書く</a></li><li><a href=#シェルスクリプトを書く>シェルスクリプトを書く</a></li><li><a href=#試す>試す</a></li><li><a href=#〆>〆</a></li><li><a href=#参考にしたサイト>参考にしたサイト</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E7%9B%86%E6%A0%BD%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E9%96%8B%E7%99%BA/>盆栽システム開発
</a><a href=/categories/linux/>Linux
</a><a href=/categories/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF/>ネットワーク</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/2020/20200213-wakeonlan-from-browser/>ブラウザ経由でシェルスクリプト叩いてWake on LANする</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2020-02-13</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 4分</time></div></footer></div></header><section class=article-content><p>(この記事はQiitaからのコピーです。 本記事の投稿日はQiitaでの投稿日としています。)</p><p>WiFiルーターを買い替えたら、発売日的に6年後のモデルなのに、以前の機種にあった"PCリモート起動"(ルーターのWebツールでWoLのマジックパケットを飛ばせる機能)が消え失せました。(WR8750N→WG1200HS3)</p><p>ブラウザでWoL飛ばせるのがすごい便利だったのですが、無くなったものは仕方ない。自分でどうにかせねばということで、可能な限り手間を掛けずに今までと同じような機能を作ってみます。</p><h2 id=必要なもの>必要なもの</h2><ul><li>家のLANとインターネットに繋がっているRaspberry Pi的なやつ(お好きなものをどうぞ)</li></ul><h2 id=どんな感じにするかを考える>どんな感じにするかを考える</h2><p>&ldquo;PCリモート起動"とはどういう画面だったかを思い出すと……</p><p>こんな感じでした(実機をしまってしまったので、 <a class=link href=https://michisugara.jp/archives/2015/home_ip.html target=_blank rel=noopener>https://michisugara.jp/archives/2015/home_ip.html</a> からお借りしました。)<br><picture><source srcset=/posts/2020/20200213-wakeonlan-from-browser/img/a45114d2-40b7-e03f-7ed3-8af46238a317_hu6be33e9ea5c07560ff2b4da92d7e6148_9830_198x150_resize_q75_h2_box_3.webp type=image/webp><img src=/posts/2020/20200213-wakeonlan-from-browser/img/a45114d2-40b7-e03f-7ed3-8af46238a317.png width=198 height=150 srcset="/posts/2020/20200213-wakeonlan-from-browser/img/a45114d2-40b7-e03f-7ed3-8af46238a317_hu6be33e9ea5c07560ff2b4da92d7e6148_9830_480x0_resize_box_3.png 480w, /posts/2020/20200213-wakeonlan-from-browser/img/a45114d2-40b7-e03f-7ed3-8af46238a317_hu6be33e9ea5c07560ff2b4da92d7e6148_9830_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=132 data-flex-basis=316px></picture><br>題名と端末選択と起動ボタンですね。<br>自宅LANで使うだけの無くなった機能を復活させたいだけなので、プルダウンメニューは再現せずに行きます。</p><h2 id=方針>方針</h2><ul><li>ラズパイ側はこれだけのためにphpとかPerlとか入れるの面倒なので、シェルスクリプトをCGIとして起動してマジックパケットを飛ばす</li><li>JavaScriptは使わない</li><li>HTML5なんて知らん</li></ul><h2 id=やることを3行でいうと>やることを3行でいうと・・・</h2><ul><li>Apache入れてCGIとしてシェルスクリプト実行できるようにする</li><li>HTML書く</li><li>シェルスクリプト書く</li></ul><h2 id=raspberry-piにapacheとetherwakewol飛ばせるソフトを入れる>Raspberry Piにapacheとetherwake(WoL飛ばせるソフト)を入れる</h2><div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ sudo apt install apache2 etherwake</span></span></code></pre></td></tr></table></div></div></div></div><h2 id=apacheの設定>Apacheの設定</h2><p>apacheに.shファイルもCGIとして動かしてねってお願いします。</p><p>/etc/apache2/sites-available/wol.conf というファイルで以下の内容を作成します(ファイル名はわかりやすければ良い)</p><div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>ScriptAlias</span> <span class=o>/</span><span class=n>cgi</span><span class=o>-</span><span class=n>bin</span><span class=o>/</span> <span class=s2>&#34;/var/www/cgi-bin/&#34;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=ne>Directory</span> <span class=s2>&#34;/var/www/cgi-bin&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>AllowOverride</span> <span class=n>None</span>
</span></span><span class=line><span class=cl>  <span class=n>Require</span> <span class=n>all</span> <span class=n>granted</span>
</span></span><span class=line><span class=cl>  <span class=n>Options</span> <span class=o>+</span><span class=n>ExecCGI</span> <span class=o>-</span><span class=n>MultiViews</span> <span class=o>+</span><span class=n>SymLinksIfOwnerMatch</span>
</span></span><span class=line><span class=cl>  <span class=n>Order</span> <span class=n>allow</span><span class=p>,</span><span class=n>deny</span>
</span></span><span class=line><span class=cl>  <span class=n>Allow</span> <span class=n>from</span> <span class=n>all</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=ne>Directory</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>AddHandler</span> <span class=n>cgi</span><span class=o>-</span><span class=n>script</span> <span class=o>.</span><span class=n>sh</span></span></span></code></pre></td></tr></table></div></div></div></div><p>保存したら今書いた設定を有効化します</p><div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>$</span> <span class=n>sudo</span> <span class=n>a2ensite</span> <span class=n>wol</span><span class=o>.</span><span class=n>conf</span>
</span></span><span class=line><span class=cl><span class=o>$</span> <span class=n>sudo</span> <span class=n>service</span> <span class=n>apache2</span> <span class=n>reload</span></span></span></code></pre></td></tr></table></div></div></div></div><p>apacheがcgiを実行できるようにします</p><div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ sudo a2enmod cgid</span></span></code></pre></td></tr></table></div></div></div></div><p>apacheを再起動します</p><div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ sudo service apache2 restart</span></span></code></pre></td></tr></table></div></div></div></div><h2 id=htmlを書く>HTMLを書く</h2><p>こんなのを書きました。最低限ですね。<br>/var/www/cgi-bin/に、wol.shというファイルを作成する前提です。</p><div><div class=codeblock--name>/var/www/html/index.html</div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Wake On Lan<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Wake On Lan<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>button</span> <span class=na>onclick</span><span class=o>=</span><span class=s>&#34;location.href=&#39;http://192.168.0.100/cgi-bin/wol.sh&#39;&#34;</span><span class=p>&gt;</span>母艦機を起動<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=c>&lt;!-- 二台以上ある場合は、指定するシェルスクリプトの名前を適宜個別に変更して必要数作って羅列しましょう。--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span></span></span></code></pre></td></tr></table></div></div></div></div><p>こんな感じになります<br><picture><source srcset=/posts/2020/20200213-wakeonlan-from-browser/img/1a1eb851-f351-6bb5-c782-acc4b1ad0709_huef61ed0f3dd2ebc1e51e8aeb5abced21_7146_408x164_resize_q75_h2_box_3.webp type=image/webp><img src=/posts/2020/20200213-wakeonlan-from-browser/img/1a1eb851-f351-6bb5-c782-acc4b1ad0709.png width=408 height=164 srcset="/posts/2020/20200213-wakeonlan-from-browser/img/1a1eb851-f351-6bb5-c782-acc4b1ad0709_huef61ed0f3dd2ebc1e51e8aeb5abced21_7146_480x0_resize_box_3.png 480w, /posts/2020/20200213-wakeonlan-from-browser/img/1a1eb851-f351-6bb5-c782-acc4b1ad0709_huef61ed0f3dd2ebc1e51e8aeb5abced21_7146_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=248 data-flex-basis=597px></picture></p><h2 id=シェルスクリプトを書く>シェルスクリプトを書く</h2><p>/var/www/cgi-binに、wol.shという名前で書きました。</p><div><div class=codeblock--name>/var/www/cgi-bin/wol.sh</div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/sh -xv
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Content-Type: text/html; charset=UTF-8&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>wakeonlan 0a:1b:2c:3d:4e:5f &gt; /dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> マジックパケットを飛ばしました</span></span></code></pre></td></tr></table></div></div></div></div><p>-xvというオプションは、実行した文をそのまま出力するオプションらしいです。書いておいたらapacheのログにコマンド等が残りました。なくてもいいかな?</p><p><code>echo "Content-Type: text/html; charset=UTF-8"</code>はHTMLヘッダです。これがないと結果の画面を表示してくれないので、HTMLヘッダをechoで吐き出してもらいます。</p><p><code>wakeonlan 0a:1b:2c:3d:4e:5f > /dev/null</code>は、WoLのマジックパケットを飛ばしてくれる部分です。MACアドレスは適宜変更してくださいね。 ただ、どうもIPアドレス指定がなかったりすると、CGIとして実行時にエラーを吐き、Internal Server Errorが出ちゃうので、エラーメッセージを/dev/nullに投げてもみ消します。(動けばいいんです。)</p><p>最後はブラウザに文字を表示するための部分です。表示さえしてもらえればいいので特にタグとかつけませんでした。</p><p>次にシェルスクリプトを実行できるようにします。</p><div><div class=codeblock--content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ sudo chmod +x wol.sh</span></span></code></pre></td></tr></table></div></div></div></div><h2 id=試す>試す</h2><p><picture><source srcset=/posts/2020/20200213-wakeonlan-from-browser/img/3b3a4b0d-9d86-e79f-b6b4-c01b0f63271a_hu105844c49fd91e5c59ea5125fd0d8519_6291_529x97_resize_q75_h2_box_3.webp type=image/webp><img src=/posts/2020/20200213-wakeonlan-from-browser/img/3b3a4b0d-9d86-e79f-b6b4-c01b0f63271a.png width=529 height=97 srcset="/posts/2020/20200213-wakeonlan-from-browser/img/3b3a4b0d-9d86-e79f-b6b4-c01b0f63271a_hu105844c49fd91e5c59ea5125fd0d8519_6291_480x0_resize_box_3.png 480w, /posts/2020/20200213-wakeonlan-from-browser/img/3b3a4b0d-9d86-e79f-b6b4-c01b0f63271a_hu105844c49fd91e5c59ea5125fd0d8519_6291_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=545 data-flex-basis=1308px></picture></p><p>これで対象のマシンが起動してきたら成功です。</p><h2 id=〆>〆</h2><p>元の機能よりだいぶ簡略化されましたけど、これで目的が果たされたので満足です。<br>ただ元のやつと違って、w3mでボタンが押せなくなったのでHTMLの編集が必要そうです・・・(inputタグでやればいいのか?)</p><p>Apache経由でシェルスクリプトの実行という部分を応用すれば、色々といろんなことが出来そうな気がします。</p><h2 id=参考にしたサイト>参考にしたサイト</h2><ul><li>CGI用のシェルスクリプトの書き方<ul><li>「UEC - usp engineers&rsquo; community - UECジャーナル」</li><li><a class=link href="https://uec.usp-lab.com/JOURNAL/CGI/JOURNAL.CGI?POMPA=KAIGAN_journal19" target=_blank rel=noopener>https://uec.usp-lab.com/JOURNAL/CGI/JOURNAL.CGI?POMPA=KAIGAN_journal19</a></li></ul></li><li>etherwakeについて<ul><li>「Raspberry Piで自宅内のWindows機を起動させる (Wake-on-LAN) - たねやつの木」</li><li><a class=link href=https://www.taneyats.com/entry/raspi-wake-on-lan#Raspberry-Pi%E3%81%AE%E8%A8%AD%E5%AE%9A target=_blank rel=noopener>https://www.taneyats.com/entry/raspi-wake-on-lan#Raspberry-Pi%E3%81%AE%E8%A8%AD%E5%AE%9A</a></li></ul></li><li>confファイルの書き方<ul><li>「ubuntu16.04のApache2設定/cgi設定 - Qiita」</li><li><a class=link href=https://qiita.com/kummn/items/f6bd0f3e643595ed077a target=_blank rel=noopener>https://qiita.com/kummn/items/f6bd0f3e643595ed077a</a></li></ul></li></ul></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>関連するコンテンツ</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/posts/2022/20221216-misskey-cli/><div class=article-image><img src=/posts/2022/20221216-misskey-cli/img/misskey-cli-scr.7dad8a8f888e419ba97a42744e3827f0_hu951e91d74c3322dab0f9ffb021ed0c8b_6422243_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post GoでMisskeyのCLIクライアントを作った話 (Misskey Advent Calender 2022)" data-hash="md5-fa2Kj4iOQZupekJ0Tjgn8A=="></div><div class=article-details><h2 class=article-title>GoでMisskeyのCLIクライアントを作った話 (Misskey Advent Calender 2022)</h2></div></a></article><article class=has-image><a href=/posts/2023/20230807-making-of-x-bot-for-kuchiwohiraku/><div class=article-image><img src=/posts/2023/20230807-making-of-x-bot-for-kuchiwohiraku/img/_hued2eb23146221757a2e86c10559b40be_153251_9451e750af6e0a0d5c87d573b8635829.png width=250 height=150 loading=lazy alt="Featured image of post リスナーが勝手にPodcast番組の更新通知Botを作って遊んだ話" data-hash="md5-lk0yEBClDccxxfFbS+sZXA=="></div><div class=article-details><h2 class=article-title>リスナーが勝手にPodcast番組の更新通知Botを作って遊んだ話</h2></div></a></article><article class=has-image><a href=/posts/2021/20211203-tcu-yc-summary-in-md-and-pandoc/><div class=article-image><img src=/posts/2021/20211203-tcu-yc-summary-in-md-and-pandoc/img/_hu73fe6da212d5787cddaafb2e3107eb90_571990_17c4b211a4b63357bc670ccb677766a4.png width=250 height=150 loading=lazy alt="Featured image of post 都市大YCの卒業研究概要集をMarkdownで快適に書くためのPandoc環境セットアップ備忘録" data-hash="md5-pF1ewOd52gW7v52ttCdXbA=="></div><div class=article-details><h2 class=article-title>都市大YCの卒業研究概要集をMarkdownで快適に書くためのPandoc環境セットアップ備忘録</h2></div></a></article><article><a href=/posts/2021/20210306-subsonic-with-googledrive/><div class=article-details><h2 class=article-title>SubsonicのストレージとしてGoogleDriveを使う方法(Linux)</h2></div></a></article><article><a href=/posts/2020/20201209-2-click-tcu-attend-system/><div class=article-details><h2 class=article-title>大学の出席確認システムへ2クリックで登録できるシステムの構築</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2018 -
2024 mikuta0407</section><section class=powerby><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> で構築されています。<br>テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>